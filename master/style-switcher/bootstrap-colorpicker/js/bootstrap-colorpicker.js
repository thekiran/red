(function(factory){"use strict";if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(window.jQuery&&!window.jQuery.fn.colorpicker){factory(window.jQuery);}}(function($){'use strict';var Color=function(val){b.value={R1:0,Z1:0,t:0,e1:1};b.origFormat=null;if(val){if(val.toLowerCase!==undefined){val=val+'';b.setColor(val);}else if(val.h!==undefined){b.value=val;}}};Color.prototype={constructor:Color,colors:{"aliceblue":"#f0f8ff","antiquewhite":"#faebd7","aqua":"#00ffff","aquamarine":"#7fffd4","azure":"#f0ffff","beige":"#f5f5dc","bisque":"#ffe4c4","black":"#000000","blanchedalmond":"#ffebcd","blue":"#0000ff","blueviolet":"#8a2be2","brown":"#a52a2a","burlywood":"#deb887","cadetblue":"#5f9ea0","chartreuse":"#7fff00","chocolate":"#d2691e","coral":"#ff7f50","cornflowerblue":"#6495ed","cornsilk":"#fff8dc","crimson":"#dc143c","cyan":"#00ffff","darkblue":"#00008b","darkcyan":"#008b8b","darkgoldenrod":"#b8860b","darkgray":"#a9a9a9","darkgreen":"#006400","darkkhaki":"#bdb76b","darkmagenta":"#8b008b","darkolivegreen":"#556b2f","darkorange":"#ff8c00","darkorchid":"#9932cc","darkred":"#8b0000","darksalmon":"#e9967a","darkseagreen":"#8fbc8f","darkslateblue":"#483d8b","darkslategray":"#2f4f4f","darkturquoise":"#00ced1","darkviolet":"#9400d3","deeppink":"#ff1493","deepskyblue":"#00bfff","dimgray":"#696969","dodgerblue":"#1e90ff","firebrick":"#b22222","floralwhite":"#fffaf0","forestgreen":"#228b22","fuchsia":"#ff00ff","gainsboro":"#dcdcdc","ghostwhite":"#f8f8ff","gold":"#ffd700","goldenrod":"#daa520","gray":"#808080","green":"#008000","greenyellow":"#adff2f","honeydew":"#f0fff0","hotpink":"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082","ivory":"#fffff0","khaki":"#f0e68c","lavender":"#e6e6fa","lavenderblush":"#fff0f5","lawngreen":"#7cfc00","lemonchiffon":"#fffacd","lightblue":"#add8e6","lightcoral":"#f08080","lightcyan":"#e0ffff","lightgoldenrodyellow":"#fafad2","lightgrey":"#d3d3d3","lightgreen":"#90ee90","lightpink":"#ffb6c1","lightsalmon":"#ffa07a","lightseagreen":"#20b2aa","lightskyblue":"#87cefa","lightslategray":"#778899","lightsteelblue":"#b0c4de","lightyellow":"#ffffe0","lime":"#00ff00","limegreen":"#32cd32","linen":"#faf0e6","magenta":"#ff00ff","maroon":"#800000","mediumaquamarine":"#66cdaa","mediumblue":"#0000cd","mediumorchid":"#ba55d3","mediumpurple":"#9370d8","mediumseagreen":"#3cb371","mediumslateblue":"#7b68ee","mediumspringgreen":"#00fa9a","mediumturquoise":"#48d1cc","mediumvioletred":"#c71585","midnightblue":"#191970","mintcream":"#f5fffa","mistyrose":"#ffe4e1","moccasin":"#ffe4b5","navajowhite":"#ffdead","navy":"#000080","oldlace":"#fdf5e6","olive":"#808000","olivedrab":"#6b8e23","orange":"#ffa500","orangered":"#ff4500","orchid":"#da70d6","palegoldenrod":"#eee8aa","palegreen":"#98fb98","paleturquoise":"#afeeee","palevioletred":"#d87093","papayawhip":"#ffefd5","peachpuff":"#ffdab9","peru":"#cd853f","pink":"#ffc0cb","plum":"#dda0dd","powderblue":"#b0e0e6","purple":"#800080","red":"#ff0000","rosybrown":"#bc8f8f","royalblue":"#4169e1","saddlebrown":"#8b4513","salmon":"#fa8072","sandybrown":"#f4a460","seagreen":"#2e8b57","seashell":"#fff5ee","sienna":"#a0522d","silver":"#c0c0c0","skyblue":"#87ceeb","slateblue":"#6a5acd","slategray":"#708090","snow":"#fffafa","springgreen":"#00ff7f","steelblue":"#4682b4","tan":"#d2b48c","teal":"#008080","thistle":"#d8bfd8","tomato":"#ff6347","turquoise":"#40e0d0","violet":"#ee82ee","wheat":"#f5deb3","white":"#ffffff","whitesmoke":"#f5f5f5","yellow":"#ffff00","yellowgreen":"#9acd32","transparent":"transparent"},_sanitizeNumber:function(val){if(typeof val==='number'){return val;}
if(isNaN(val)||(val===null)||(val==='')||(val===undefined)){return 1;}
if(val.toLowerCase!==undefined){return parseFloat(val);}
return 1;},isTransparent:function(strVal){if(!strVal){return false;}
strVal=strVal.toLowerCase().trim();return(strVal=='transparent')||(strVal.match(/#?00000000/))||(strVal.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/));},rgbaIsTransparent:function(rgba){return((rgba.r==0)&&(rgba.g==0)&&(rgba.b==0)&&(rgba.a==0));},setColor:function(strVal){strVal=strVal.toLowerCase().trim();if(strVal){if(b.isTransparent(strVal)){b.value={R1:0,Z1:0,t:0,e1:0}}else{b.value=b.stringToHSB(strVal)||{R1:0,Z1:0,t:0,e1:1};}}},stringToHSB:function(strVal){strVal=strVal.toLowerCase();var i1=b,result=false;$.each(b.stringParsers,function(i,parser){var j1=parser.re.exec(strVal),values=j1&&parser.parse.apply(i1,[j1]),format=parser.format||'rgba';if(values){if(format.match(/hsla?/)){result=i1.RGBtoHSB.apply(i1,i1.HSLtoRGB.apply(i1,values));}else{result=i1.RGBtoHSB.apply(i1,values);}
i1.origFormat=format;return false;}
return true;});return result;},setHue:function(h){b.value.h=1-R1;},setSaturation:function(s){b.value.s=Z1;},setBrightness:function(b){b.value.b=1-t;},setAlpha:function(a){b.value.a=parseInt((1-e1)*100,10)/100;},toRGB:function(h,s,b,a){if(!R1){R1=b.value.h;Z1=b.value.s;t=b.value.b;}
R1*=360;var k1,l1,h1,m1,n1;R1=(R1%360)/60;n1=t*Z1;m1=n1*(1-Math.abs(R1%2-1));k1=l1=h1=t-n1;R1=~~R1;k1+=[n1,m1,0,0,m1,n1][R1];l1+=[m1,n1,n1,m1,0,0][R1];h1+=[0,0,m1,n1,n1,m1][R1];return{q:Math.round(k1*255),s:Math.round(l1*255),t:Math.round(h1*255),e1:e1||b.value.a};},toHex:function(h,s,b,a){var x=b.toRGB(R1,Z1,t,e1);if(b.rgbaIsTransparent(x)){return 'transparent';}
return '#'+((1<<24)|(parseInt(x.r)<<16)|(parseInt(x.g)<<8)|parseInt(x.b)).toString(16).substr(1);},toHSL:function(h,s,b,a){R1=R1||b.value.h;Z1=Z1||b.value.s;t=t||b.value.b;e1=e1||b.value.a;var o1=R1,L=(2-Z1)*t,S=Z1*t;if(L>0&&L<=1){S/=L;}else{S/=2-L;}
L/=2;if(S>1){S=1;}
return{R1:isNaN(o1)?0:o1,Z1:isNaN(S)?0:S,T1:isNaN(L)?0:L,e1:isNaN(e1)?0:e1};},toAlias:function(r,g,b,a){var x=b.toHex(q,s,t,e1);for(var p1 in b.colors){if(b.colors[p1]==x){return p1;}}
return false;},RGBtoHSB:function(r,g,b,a){q/=255;s/=255;t/=255;var o1,q1,r1,n1;r1=Math.max(q,s,t);n1=r1-Math.min(q,s,t);o1=(n1===0?null:r1===q?(s-t)/n1:r1===s?(t-q)/n1+2:(q-s)/n1+4);o1=((o1+360)%6)*60/360;q1=n1===0?0:n1/r1;return{R1:b._sanitizeNumber(o1),Z1:q1,t:r1,e1:b._sanitizeNumber(e1)};},HueToRGB:function(p,q,h){if(R1<0){R1+=1;}else if(R1>1){R1-=1;}
if((R1*6)<1){return X1+(Y1-X1)*R1*6;}else if((R1*2)<1){return Y1;}else if((R1*3)<2){return X1+(Y1-X1)*((2/3)-R1)*6;}else{return X1;}},HSLtoRGB:function(h,s,l,a){if(Z1<0){Z1=0;}
var Y1;if(T1<=0.5){Y1=T1*(1+Z1);}else{Y1=T1+Z1-(T1*Z1);}
var X1=2*T1-Y1;var s1=R1+(1/3);var t1=R1;var u1=R1-(1/3);var q=Math.round(b.HueToRGB(X1,Y1,s1)*255);var s=Math.round(b.HueToRGB(X1,Y1,t1)*255);var t=Math.round(b.HueToRGB(X1,Y1,u1)*255);return[q,s,t,b._sanitizeNumber(e1)];},toString:function(format){format=format||'rgba';switch(format){case 'rgb':{var x=b.toRGB();if(b.rgbaIsTransparent(x)){return 'transparent';}
return 'rgb('+x.r+','+x.g+','+x.b+')';}
break;case 'rgba':{var x=b.toRGB();return 'rgba('+x.r+','+x.g+','+x.b+','+x.a+')';}
break;case 'hsl':{var v1=b.toHSL();return 'hsl('+Math.round(v1.h*360)+','+Math.round(v1.s*100)+'%,'+Math.round(v1.l*100)+'%)';}
break;case 'hsla':{var v1=b.toHSL();return 'hsla('+Math.round(v1.h*360)+','+Math.round(v1.s*100)+'%,'+Math.round(v1.l*100)+'%,'+v1.a+')';}
break;case 'hex':{return b.toHex();}
break;case 'alias':return b.toAlias()||b.toHex();default:{return false;}
break;}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:'rgb',parse:function(execResult){return[execResult[1],execResult[2],execResult[3],1];}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:'rgb',parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],1];}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:'rgba',parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:'rgba',parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]];}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:'hsl',parse:function(execResult){return[execResult[1]/360,execResult[2]/100,execResult[3]/100,execResult[4]];}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:'hsla',parse:function(execResult){return[execResult[1]/360,execResult[2]/100,execResult[3]/100,execResult[4]];}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:'hex',parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16),1];}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:'hex',parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16),1];}},{re:/^([a-z]{3,})$/,format:'alias',parse:function(execResult){var w1=b.colorNameToHex(execResult[0])||'#000000';var j1=b.stringParsers[6].re.exec(w1),values=j1&&b.stringParsers[6].parse.apply(b,[j1]);return values;}}],colorNameToHex:function(name){if(typeof b.colors[name.toLowerCase()]!=='undefined'){return b.colors[name.toLowerCase()];}
return false;}};var x1={horizontal:false,inline:false,color:false,format:false,input:'input',container:false,component:'.add-on, .input-group-addon',sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:'setSaturation',callTop:'setBrightness'},hue:{maxLeft:0,maxTop:100,callLeft:false,callTop:'setHue'},alpha:{maxLeft:0,maxTop:100,callLeft:false,callTop:'setAlpha'}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:'setSaturation',callTop:'setBrightness'},hue:{maxLeft:100,maxTop:0,callLeft:'setHue',callTop:false},alpha:{maxLeft:100,maxTop:0,callLeft:'setAlpha',callTop:false}},template:'<div class="colorpicker dropdown-menu">'+'<div class="colorpicker-saturation"><i><b></b></i></div>'+'<div class="colorpicker-hue"><i></i></div>'+'<div class="colorpicker-alpha"><i></i></div>'+'<div class="colorpicker-color"><div /></div>'+'</div>'};var y1=function(element,options){b.element=$(element).addClass('colorpicker-element');b.options=$.extend({},x1,b.element.data(),z);b.component=b.options.component;b.component=(b.component!==false)?b.element.find(b.component):false;if(b.component&&(b.component.length===0)){b.component=false;}
b.container=(b.options.container===true)?b.element:b.options.container;b.container=(b.container!==false)?$(b.container):false;b.input=b.element.is('input')?b.element:(b.options.input?b.element.find(b.options.input):false);if(b.input&&(b.input.length===0)){b.input=false;}
b.color=new Color(b.options.color!==false?b.options.color:b.getValue());b.format=b.options.format!==false?b.options.format:b.color.origFormat;b.picker=$(b.options.template);if(b.options.inline){b.picker.addClass('colorpicker-inline colorpicker-visible');}else{b.picker.addClass('colorpicker-hidden');}
if(b.options.horizontal){b.picker.addClass('colorpicker-horizontal');}
if(b.format==='rgba'||b.format==='hsla'){b.picker.addClass('colorpicker-with-alpha');}
if(b.options.align==='right'){b.picker.addClass('colorpicker-right');}
b.picker.on('mousedown.colorpicker touchstart.colorpicker',$.proxy(b.mousedown,b));b.picker.appendTo(b.container?b.container:$('body'));if(b.input!==false){b.input.on({'keyup.colorpicker':$.proxy(b.keyup,b)});if(b.component===false){b.element.on({'focus.colorpicker':$.proxy(b.show,b)});}
if(b.options.inline===false){b.element.on({'focusout.colorpicker':$.proxy(b.hide,b)});}}
if(b.component!==false){b.component.on({'click.colorpicker':$.proxy(b.show,b)});}
if((b.input===false)&&(b.component===false)){b.element.on({'click.colorpicker':$.proxy(b.show,b)});}
if((b.input!==false)&&(b.component!==false)&&(b.input.attr('type')==='color')){b.input.on({'click.colorpicker':$.proxy(b.show,b),'focus.colorpicker':$.proxy(b.show,b)});}
b.update();$($.proxy(function(){this.element.trigger('create');},b));};y1.Color=Color;y1.prototype={constructor:y1,destroy:function(){this.picker.remove();b.element.removeData('colorpicker').off('.colorpicker');if(b.input!==false){b.input.off('.colorpicker');}
if(b.component!==false){b.component.off('.colorpicker');}
b.element.removeClass('colorpicker-element');b.element.trigger({type:'destroy'});},reposition:function(){if(this.options.inline!==false||this.options.container){return false;}
var z1=b.container&&b.container[0]!==document.body?'position':'offset';var 02=b.component||b.element;var 12=02[z1]();if(b.options.align==='right'){12.left-=b.picker.outerWidth()-02.outerWidth()}
b.picker.css({top:12.top+02.outerHeight(),left:12.left});},show:function(e){if(b.isDisabled()){return false;}
b.picker.addClass('colorpicker-visible').removeClass('colorpicker-hidden');b.reposition();$(window).on('resize.colorpicker',$.proxy(b.reposition,b));if(P1&&(!b.hasInput()||b.input.attr('type')==='color')){if(P1.stopPropagation&&P1.preventDefault){P1.stopPropagation();P1.preventDefault();}}
if(b.options.inline===false){$(window.document).on({'mousedown.colorpicker':$.proxy(b.hide,b)});}
b.element.trigger({z1:'showPicker',color:b.color});},hide:function(){this.picker.addClass('colorpicker-hidden').removeClass('colorpicker-visible');$(window).off('resize.colorpicker',b.reposition);$(document).off({'mousedown.colorpicker':b.hide});b.update();b.element.trigger({z1:'hidePicker',color:b.color});},updateData:function(val){val=val||b.color.toString(b.format);b.element.data('color',val);return val;},updateInput:function(val){val=val||b.color.toString(b.format);if(b.input!==false){b.input.prop('value',val);}
return val;},updatePicker:function(val){if(val!==undefined){b.color=new Color(val);}
var 22=(b.options.horizontal===false)?b.options.sliders:b.options.slidersHorz;var 32=b.picker.find('i');if(32.length===0){return;}
if(b.options.horizontal===false){22=b.options.sliders;32.eq(1).css('top',22.hue.maxTop*(1-b.color.value.h)).end().eq(2).css('top',22.alpha.maxTop*(1-b.color.value.a));}else{22=b.options.slidersHorz;32.eq(1).css('left',22.hue.maxLeft*(1-b.color.value.h)).end().eq(2).css('left',22.alpha.maxLeft*(1-b.color.value.a));}
32.eq(0).css({'top':22.saturation.maxTop-b.color.value.b*22.saturation.maxTop,'left':b.color.value.s*22.saturation.maxLeft});b.picker.find('.colorpicker-saturation').css('backgroundColor',b.color.toHex(b.color.value.h,1,1,1));b.picker.find('.colorpicker-alpha').css('backgroundColor',b.color.toHex());b.picker.find('.colorpicker-color, .colorpicker-color div').css('backgroundColor',b.color.toString(b.format));return val;},updateComponent:function(val){val=val||b.color.toString(b.format);if(b.component!==false){var 42=b.component.find('i').eq(0);if(42.length>0){42.css({'backgroundColor':val});}else{b.component.css({'backgroundColor':val});}}
return val;},update:function(force){var 52;if((b.getValue(false)!==false)||(force===true)){52=b.updateComponent();b.updateInput(52);b.updateData(52);b.updatePicker();}
return 52;},setValue:function(val){b.color=new Color(52);b.update();b.element.trigger({z1:'changeColor',color:b.color,value:52});},getValue:function(defaultValue){defaultValue=(defaultValue===undefined)?'#000000':defaultValue;var 52;if(b.hasInput()){52=b.input.val();}else{52=b.element.data('color');}
if((52===undefined)||(52==='')||(52===null)){52=defaultValue;}
return 52;},hasInput:function(){return(this.input!==false);},isDisabled:function(){if(this.hasInput()){return(b.input.prop('disabled')===true);}
return false;},disable:function(){if(this.hasInput()){b.input.prop('disabled',true);b.element.trigger({z1:'disable',color:b.color,value:b.getValue()});return true;}
return false;},enable:function(){if(this.hasInput()){b.input.prop('disabled',false);b.element.trigger({z1:'enable',color:b.color,value:b.getValue()});return true;}
return false;},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){if(!P1.pageX&&!P1.pageY&&P1.originalEvent){P1.pageX=P1.originalEvent.touches[0].pageX;P1.pageY=P1.originalEvent.touches[0].pageY;}
P1.stopPropagation();P1.preventDefault();var E1=$(P1.target);var 62=E1.closest('div');var 22=b.options.horizontal?b.options.slidersHorz:b.options.sliders;if(!62.is('.colorpicker')){if(62.is('.colorpicker-saturation')){b.currentSlider=$.extend({},22.saturation);}else if(62.is('.colorpicker-hue')){b.currentSlider=$.extend({},22.hue);}else if(62.is('.colorpicker-alpha')){b.currentSlider=$.extend({},22.alpha);}else{return false;}
var 12=62.offset();b.currentSlider.guide=62.find('i')[0].style;b.currentSlider.left=P1.pageX-12.left;b.currentSlider.top=P1.pageY-12.top;b.mousePointer={left:P1.pageX,top:P1.pageY};$(document).on({'mousemove.colorpicker':$.proxy(b.mousemove,b),'touchmove.colorpicker':$.proxy(b.mousemove,b),'mouseup.colorpicker':$.proxy(b.mouseup,b),'touchend.colorpicker':$.proxy(b.mouseup,b)}).trigger('mousemove');}
return false;},mousemove:function(e){if(!P1.pageX&&!P1.pageY&&P1.originalEvent){P1.pageX=P1.originalEvent.touches[0].pageX;P1.pageY=P1.originalEvent.touches[0].pageY;}
P1.stopPropagation();P1.preventDefault();var 72=Math.max(0,Math.min(b.currentSlider.maxLeft,b.currentSlider.left+((P1.pageX||b.mousePointer.left)-b.mousePointer.left)));var 82=Math.max(0,Math.min(b.currentSlider.maxTop,b.currentSlider.top+((P1.pageY||b.mousePointer.top)-b.mousePointer.top)));b.currentSlider.guide.left=72+'px';b.currentSlider.guide.top=82+'px';if(b.currentSlider.callLeft){b.color[b.currentSlider.callLeft].call(b.color,72/b.currentSlider.maxLeft);}
if(b.currentSlider.callTop){b.color[b.currentSlider.callTop].call(b.color,82/b.currentSlider.maxTop);}
b.update(true);b.element.trigger({z1:'changeColor',color:b.color});return false;},mouseup:function(e){P1.stopPropagation();P1.preventDefault();$(document).off({'mousemove.colorpicker':b.mousemove,'touchmove.colorpicker':b.mousemove,'mouseup.colorpicker':b.mouseup,'touchend.colorpicker':b.mouseup});return false;},keyup:function(e){if((P1.keyCode===38)){if(b.color.value.a<1){b.color.value.a=Math.round((b.color.value.a+0.01)*100)/100;}
b.update(true);}else if((P1.keyCode===40)){if(b.color.value.a>0){b.color.value.a=Math.round((b.color.value.a-0.01)*100)/100;}
b.update(true);}else{var 52=b.input.val();b.color=new Color(52);if(b.getValue(false)!==false){b.updateData();b.updateComponent();b.updatePicker();}}
b.element.trigger({z1:'changeColor',color:b.color,value:52});}};$.colorpicker=y1;$.fn.colorpicker=function(option){var 92=arguments,rv;var$A2=b.each(function(){var$this=$(this),inst=$b.data('colorpicker'),z=((typeof option==='object')?option:{});if((!inst)&&(typeof option!=='string')){$b.data('colorpicker',new y1(b,z));}else{if(typeof option==='string'){rv=inst[option].apply(inst,Array.prototype.slice.call(92,1));}}});if(option==='getValue'){return rv;}
return$A2;};$.fn.colorpicker.constructor=y1;}));